@model ChessBuildPresentation.Models.ChessModel
@{
    Layout = null;
}
<head>
    @*<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>*@


    <script>
        //var x = new XMLHttpRequest();
        //var m = new Date(0);
        //x.open("POST","http://localhost:44358")
        //x.setRequestHeader("If-Modified-Since", m);

        //Before ajax used
        //onclick="window.location.href='@@Url.Action("Click","Home",new { instantaneousX=x,instantaneousY=y})'"

    </script>


    <link rel="stylesheet" href="~/chess_template/templatemo_style.css" />
    <link rel="stylesheet" href="~/css/chess_page.css" />

    <script src="~/js/jquery.js"></script>



</head>
<body>
    <header>
        <h3>Chess</h3>
        <button>Login</button>
        <button onclick="connect()">Connect Me</button>
    </header>

    <div id="menu">

        <ul>
            <li><a href="index.html" class="current">Welcome</a></li>
            <li><a href="blog.html">Design Blog</a></li>
            <li><a href="portfolio.html">Portfolio</a></li>
            <li><a href="company.html">Our Company</a></li>
            <li><a href="contact.html">Contact Us</a></li>
        </ul>

    </div> <!-- end of templatemo_menu -->




    <div id="board" value=@Model.Counter userColor="@Model.Color">

        @if (Model.Color == 0)
        {
            @for (int y = 1; y < 9; y++)
            {
                for (int x = 1; x < 9; x++)
                {
                    foreach (var square in Model.Squares)
                    {
                        if (square.Coordinate.X == x && square.Coordinate.Y == y)
                        {
                            if (square.Color == ChessBuildPieces.Color.black)
                            {
                                if (square.Piece == null)
                                {
                                    <img stoneColor="@Model.Color" height="60" width="60" style="position:relative; background-color:saddlebrown" valuex=@x valuey=@y />
                                }
                                else
                                {
                                    <img src="@square.Piece.ImageURL" stoneColor="0" height="60" width="60" style="position:relative; background-color:saddlebrown" valuex=@x valuey=@y />

                                }
                            }
                            else
                            {
                                if (square.Piece == null)
                                {
                                    <img stoneColor="@Model.Color" height="60" width="60" style="position:relative; background-color:white" valuex=@x valuey=@y />
                                }
                                else
                                {
                                    <img src="@square.Piece.ImageURL" stoneColor="1" height="60" width="60" style="position:relative; background-color:white" valuex=@x valuey=@y />

                                }
                            }

                        }
                    }
                }
                <br />
            }
        }
        else
        {
            @for (int y = 8; y > 0; y--)
            {
                for (int x = 8; x > 0 ; x--)
                {
                    foreach (var square in Model.Squares)
                    {
                        if (square.Coordinate.X == x && square.Coordinate.Y == y)
                        {
                            if (square.Color == ChessBuildPieces.Color.black)
                            {
                                if (square.Piece == null)
                                {
                                    <img stoneColor="@Model.Color" height="60" width="60" style="position:relative; background-color:saddlebrown" valuex=@x valuey=@y />
                                }
                                else
                                {
                                    <img src="@square.Piece.ImageURL" stoneColor="0" height="60" width="60" style="position:relative; background-color:saddlebrown" valuex=@x valuey=@y />

                                }
                            }
                            else
                            {
                                if (square.Piece == null)
                                {
                                    <img stoneColor="@Model.Color" height="60" width="60" style="position:relative; background-color:white" valuex=@x valuey=@y />
                                }
                                else
                                {
                                    <img src="@square.Piece.ImageURL" stoneColor="1" height="60" width="60" style="position:relative; background-color:white" valuex=@x valuey=@y />

                                }
                            }

                        }
                    }
                }
                <br />
            }
        }
    </div>

    <footer>
        Copyright © 2048 <a href="#">Your Company Name</a> |
        <a href="http://www.iwebsitetemplate.com" target="_parent">Website Templates</a> by <a href="http://www.templatemo.com" target="_parent">Free CSS Templates</a>
    </footer>
    <script src="~/js/site.js"></script>
</body>